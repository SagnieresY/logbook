<!-- <div class="container"> -->
  <h2>INDEX</h2>

  <table class="table table-sm table-responsive table-striped table-hover table-bordered">
    <thead>
      <tr>
        <th scope="col" rowspan="2" colspan="1">Date</th>
        <th scope="col" rowspan="2" colspan="2">Aircaft</th>
        <th scope="col" rowspan="2" colspan="2">Route of flight</th>
        <th scope="col" rowspan="2">PIC</th>
        <th scope="col" rowspan="2">CoPi</th>
        <th scope="col" colspan="6">Single Engine</th>
        <th scope="col" colspan="6" >Multi</th>
        <th scope="col" rowspan="2" colspan="4">Instruments</th>
        <th scope="col" rowspan="2"colspan="2">Takeoffs & Landing</th>
        <th scope="col" colspan="6">Cross-Country</th>
        <th scope="col" rowspan="2">Remarks</th>
      </tr>
      <tr>
        <th scope="col" colspan="3">Day</th>
        <th scope="col" colspan="3">Night</th>
        <th scope="col" colspan="3">Day</th>
        <th scope="col" colspan="3">Night</th>
        <th scope="col" colspan="3">Day</th>
        <th scope="col" colspan="3">Night</th>
      </tr>
      <tr>
        <th scope="col">Date</th>
        <th scope="col">Type</th>
        <th scope="col">Regist.</th>
        <th scope="col">From</th>
        <th scope="col">To</th>
        <th scope="col">Name</th>
        <th scope="col">Name</th>
        <th scope="col">Dual</th>
        <th scope="col">Pic</th>
        <th scope="col">Copi</th>
        <th scope="col">Dual</th>
        <th scope="col">PIC</th>
        <th scope="col">Copi</th>
        <th scope="col">Dual</th>
        <th scope="col">PIC</th>
        <th scope="col">Copi</th>
        <th scope="col">Dual</th>
        <th scope="col">PIC</th>
        <th scope="col">Copi</th>
        <th scope="col">IMC</th>
        <th scope="col">Hood</th>
        <th scope="col">FTD</th>
        <th scope="col">IFR Appr</th>
        <th scope="col">Day</th>
        <th scope="col">Night</th>
        <th scope="col">Dual</th>
        <th scope="col">PIC</th>
        <th scope="col">Copi</th>
        <th scope="col">Dual</th>
        <th scope="col">PIC</th>
        <th scope="col">Copi</th>
        <th scope="col">Details</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>TOTAL</th>
        <th colspan="6"> <%= @flights.sum(:night_time) + @flights.sum(:day_time) %></th>
        <th> <%= @flights.single_engine.dual.sum(:day_time) %> </th>
        <th> <%= @flights.single_engine.pic.sum(:day_time) %> </th>
        <th> <%= @flights.single_engine.co_pilot.sum(:day_time) %> </th>
        <th> <%= @flights.single_engine.dual.sum(:night_time) %> </th>
        <th> <%= @flights.single_engine.pic.sum(:night_time) %> </th>
        <th> <%= @flights.single_engine.co_pilot.sum(:night_time) %> </th>
        <th> <%= @flights.multi_engine.dual.sum(:day_time) %> </th>
        <th> <%= @flights.multi_engine.pic.sum(:day_time) %> </th>
        <th> <%= @flights.multi_engine.co_pilot.sum(:day_time) %> </th>
        <th> <%= @flights.multi_engine.dual.sum(:night_time) %> </th>
        <th> <%= @flights.multi_engine.pic.sum(:night_time) %> </th>
        <th> <%= @flights.multi_engine.co_pilot.sum(:night_time) %> </th>
        <th> <%= @flights.sum(:actual_imc) %> </th>
        <th> <%= @flights.sum(:hood) %> </th>
        <th> <%= @flights.sum(:simulator_time) %> </th>
        <th> <%= @flights.sum(:ifr_appr) %> </th>
        <th> <%= @flights.day_only.sum(:takeoffs_landings) %> </th>
        <th> <%= @flights.night.sum(:takeoffs_landings) %> </th>
        <th> <%= @flights.dual.sum(:cross_country_day_time) %> </th>
        <th> <%= @flights.pic.sum(:cross_country_day_time) %> </th>
        <th> <%= @flights.co_pilot.sum(:cross_country_day_time) %> </th>
        <th> <%= @flights.dual.sum(:cross_country_night_time) %> </th>
        <th> <%= @flights.pic.sum(:cross_country_night_time) %> </th>
        <th> <%= @flights.co_pilot.sum(:cross_country_night_time) %> </th>
        <th> </th>
      </tr>
      <% @flights.each do |flight| %>
      <tr>
        <td> <%= flight.date %></td>
        <td> <%= flight.aircraft_type %></td>
        <td> <%= flight.aircraft_registration %></td>
        <td> <%= flight.from %></td>
        <td> <%= flight.to %></td>
        <td> <%= flight.pic_name %></td>
        <td> <%= flight.copi_name %></td>
        <td>
          <% if flight.single? && flight.day_time? && flight.dual? %>
          <%= flight.day_time %>
          <% end %>
        </td>
        <td>
          <% if flight.single? && flight.day_time? && flight.pic? %>
          <%= flight.day_time %>
          <% end %>
        </td>
        <td>
          <% if flight.single? && flight.day_time? && flight.co_pilot? %>
          <%= flight.day_time %>
          <% end %>
        </td>
        <td>
          <% if flight.single? && flight.night_time? && flight.dual? %>
          <%= flight.night_time %>
          <% end %>
        </td>
        <td>
          <% if flight.single? && flight.night_time? && flight.pic? %>
          <%= flight.night_time %>
          <% end %>
        </td>
        <td>
          <% if flight.single? && flight.night_time? && flight.co_pilot? %>
          <%= flight.night_time %>
          <% end %>
        </td>
        <td>
          <% if flight.multi? && flight.day_time? && flight.dual? %>
          <%= flight.day_time %>
          <% end %>
        </td>
        <td>
          <% if flight.multi? && flight.day_time? && flight.pic? %>
          <%= flight.day_time %>
          <% end %>
        </td>
        <td>
          <% if flight.multi? && flight.day_time? && flight.co_pilot? %>
          <%= flight.day_time %>
          <% end %>
        </td>
        <td>
          <% if flight.multi? && flight.night_time? && flight.dual? %>
          <%= flight.night_time %>
          <% end %>
        </td>
        <td>
          <% if flight.multi? && flight.night_time? && flight.pic? %>
          <%= flight.night_time %>
          <% end %>
        </td>
        <td>
          <% if flight.multi? && flight.night_time? && flight.co_pilot? %>
          <%= flight.night_time %>
          <% end %>
        </td>
        <td> <%= flight.actual_imc %> </td>
        <td> <%= flight.hood %> </td>
        <td> <%= flight.simulator_time %> </td>
        <td> <%= flight.ifr_appr %> </td>
        <td>
          <% if flight.night_time.nil? || flight.night_time == 0 %>
          <%= flight.takeoffs_landings %>
          <% end %>
        </td>
        <td>
          <% unless flight.night_time.nil? || flight.night_time == 0 %>
          <%= flight.takeoffs_landings %>
          <% end %>
        </td>
        <td>
          <% if flight.day_time? && flight.dual? %>
          <%= flight.cross_country_day_time %>
          <% end %>
        </td>
        <td>
          <% if flight.day_time? && flight.pic? %>
          <%= flight.cross_country_day_time %>
          <% end %>
        </td>
        <td>
          <% if flight.day_time? && flight.co_pilot? %>
          <%= flight.cross_country_day_time %>
          <% end %>
        </td>
        <td>
          <% if flight.night_time? && flight.dual? %>
          <%= flight.cross_country_night_time %>
          <% end %>
        </td>
        <td>
          <% if flight.night_time? && flight.pic? %>
          <%= flight.cross_country_night_time %>
          <% end %>
        </td>
        <td>
          <% if flight.night_time? && flight.co_pilot? %>
          <%= flight.cross_country_night_time %>
          <% end %>
        </td>
        <td> <%= flight.remarks %></td>
      </tr>
      <% end %>
    </tbody>
  </table>

  <!-- </div> -->
